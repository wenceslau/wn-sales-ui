<div class="col-md-12 center">
  <p-tabView>
    <p-tabPanel header="User">
      <div class="p-fluid">
        <div class="p-field p-grid">
          <label for="firstname" class="p-col-12 p-mb-2 p-md-2 p-mb-md-0"
            >Name</label
          >
          <div class="p-col-6 p-md-10">
            <input type="text" required pInputText [(ngModel)]="user.name" />
          </div>
        </div>
        <div class="p-field p-grid">
          <label for="lastname" class="p-col-12 p-mb-2 p-md-2 p-mb-md-0"
            >E-mail</label
          >
          <div class="p-col-6 p-md-10">
            <input type="text" required pInputText [(ngModel)]="user.email" />
          </div>
        </div>
      </div>
      <div class="p-grid">
        <div class="p-col-2">
          <p-button label="Save" (click)="saveUser()"></p-button>
        </div>
        <div class="p-col-2">
          <p-button
            *ngIf="user.id"
            label="Cancel"
            (click)="cancelUser()"
          ></p-button>
        </div>
        <div *ngIf="message" style="color: red" class="p-col-8">
          {{ message | json }}
        </div>
      </div>
      <hr />
      <p-table [value]="users" responsiveLayout="scroll">
        <ng-template pTemplate="header">
          <tr>
            <th>ID</th>
            <th>Name</th>
            <th>E-mail</th>
            <th></th>
          </tr>
        </ng-template>
        <ng-template pTemplate="body" let-user>
          <tr>
            <td>{{ user.id }}</td>
            <td>{{ user.name }}</td>
            <td>{{ user.email }}</td>
            <td>
              <button
                pButton
                pRipple
                icon="pi pi-pencil"
                class="p-button-rounded p-button-success mr-2"
                (click)="selectUserForEdit(user)"
              ></button>
              <button
                pButton
                pRipple
                icon="pi pi-trash"
                class="p-button-rounded p-button-warning"
                (click)="deleteUser(user.id)"
              ></button>
            </td>
          </tr>
        </ng-template>
      </p-table>
    </p-tabPanel>
    <p-tabPanel header="Account">
      <div class="p-fluid">
        <div class="p-field p-grid">
          <label for="firstname" class="p-col-12 p-mb-2 p-md-2 p-mb-md-0"
            >Name</label
          >
          <div class="p-col-6 p-md-10">
            <input
              type="text"
              required
              pInputText
              [(ngModel)]="account.accountName"
            />
          </div>
        </div>
        <div class="p-field p-grid">
          <label for="lastname" class="p-col-12 p-mb-2 p-md-2 p-mb-md-0"
            >IBAN</label
          >
          <div class="p-col-6 p-md-10">
            <input type="text" required pInputText [(ngModel)]="account.iban" />
          </div>
        </div>
        <div class="p-field p-grid">
          <label for="lastname" class="p-col-12 p-mb-2 p-md-2 p-mb-md-0"
            >User ID</label
          >
          <div class="p-col-6 p-md-10">
            <input
              type="text"
              required
              pInputText
              [(ngModel)]="account.userId"
            />
          </div>
        </div>
      </div>
      <div class="p-grid">
        <div class="p-col-2">
          <p-button
            label="Save"
            icon="pi pi-check"
            styleClass="p-button-sm"
            (click)="saveAccount()"
          ></p-button>
        </div>
        <div class="p-col-2">
          <p-button
            *ngIf="account.id"
            label="Cancel"
            icon="pi pi-check"
            styleClass="p-button-sm"
            (click)="cancelAccount()"
          ></p-button>
        </div>
        <div style="color: red" class="p-col-8">
          {{ message | json }} <br />
        </div>
      </div>
      <hr />
      <p-table [value]="accounts" responsiveLayout="scroll">
        <ng-template pTemplate="header">
          <tr>
            <th>ID</th>
            <th>Name</th>
            <th>IBAN</th>
            <th>User ID</th>
            <th></th>
          </tr>
        </ng-template>
        <ng-template pTemplate="body" let-account>
          <tr>
            <td>{{ account.id }}</td>
            <td>{{ account.accountName }}</td>
            <td>{{ account.iban }}</td>
            <td>{{ account.userId }}</td>
            <td>
              <button
                pButton
                pRipple
                icon="pi pi-pencil"
                class="p-button-rounded p-button-success mr-2"
                (click)="selectAccountForEdit(account)"
              ></button>
              <button
                pButton
                pRipple
                icon="pi pi-trash"
                class="p-button-rounded p-button-warning"
                (click)="deleteAccount(account.id)"
              ></button>
            </td>
          </tr>
        </ng-template>
      </p-table>
    </p-tabPanel>
    <p-tabPanel header="Product">
      <div class="p-fluid">
        <div class="p-field p-grid">
          <label for="firstname" class="p-col-12 p-mb-2 p-md-2 p-mb-md-0"
            >Name</label
          >
          <div class="p-col-6 p-md-10">
            <input type="text" required pInputText [(ngModel)]="product.name" />
          </div>
        </div>
        <div class="p-field p-grid">
          <label for="price" class="p-col-12 p-mb-2 p-md-2 p-mb-md-0"
            >Price</label
          >
          <div class="p-col-6 p-md-10">
            <input
              type="text"
              required
              pInputText
              [(ngModel)]="product.price"
            />
          </div>
        </div>
        <div class="p-field p-grid">
          <label for="lastname" class="p-col-12 p-mb-2 p-md-2 p-mb-md-0"
            >Account ID</label
          >
          <div class="p-col-6 p-md-10">
            <input
              type="text"
              required
              pInputText
              [(ngModel)]="product.accountId"
            />
          </div>
        </div>
      </div>
      <div class="p-grid">
        <div class="p-col-2">
          <p-button
            label="Save"
            icon="pi pi-check"
            styleClass="p-button-sm"
            (click)="saveProduct()"
          ></p-button>
        </div>
        <div class="p-col-2">
          <p-button
            *ngIf="product.id"
            label="Cancel"
            icon="pi pi-check"
            styleClass="p-button-sm"
            (click)="cancelProduct()"
          ></p-button>
        </div>
        <div style="color: red" class="p-col-8">
          {{ message | json }} <br />
        </div>
      </div>
      <hr />
      <p-table [value]="products" responsiveLayout="scroll">
        <ng-template pTemplate="header">
          <tr>
            <th>ID</th>
            <th>Name</th>
            <th>Price</th>
            <th>Account Name</th>
            <th></th>
          </tr>
        </ng-template>
        <ng-template pTemplate="body" let-product>
          <tr>
            <td>{{ product.id }}</td>
            <td>{{ product.name }}</td>
            <td>{{ product.price }}</td>
            <td>{{ product.account.accountName }}</td>
            <td>
              <button
                pButton
                pRipple
                icon="pi pi-pencil"
                class="p-button-rounded p-button-success mr-2"
                (click)="selectProductForEdit(product)"
              ></button>
              <button
                pButton
                pRipple
                icon="pi pi-trash"
                class="p-button-rounded p-button-warning"
                (click)="deleteProduct(product.id)"
              ></button>
            </td>
          </tr>
        </ng-template>
      </p-table>
    </p-tabPanel>
  </p-tabView>
</div>
